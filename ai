import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import java.util.regex.Pattern;

public final class LogSanitizer {
  private static final Pattern CTRL = Pattern.compile("[\\r\\n\\t\\f\\u0000-\\u001F\\u007F]");

  private LogSanitizer() {}

  public static String sanitize(String input) {
    if (input == null) return null;
    // Replace control characters with a visible placeholder (or a space).
    return CTRL.matcher(input).replaceAll("_");
  }
}